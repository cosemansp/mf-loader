{"version":3,"sources":["webpack://mfLoader/webpack/universalModuleDefinition","webpack://mfLoader/./src/index.tsx","webpack://mfLoader/webpack/bootstrap","webpack://mfLoader/webpack/runtime/define property getters","webpack://mfLoader/webpack/runtime/hasOwnProperty shorthand","webpack://mfLoader/webpack/runtime/sharing","webpack://mfLoader/webpack/startup"],"names":["root","factory","exports","module","define","amd","self","this","init","remote","moduleName","options","selector","Error","element","document","querySelector","appParts","split","appName","url","remoteScript","createElement","setAttribute","head","appendChild","addEventListener","async","__webpack_init_sharing__","container","window","__webpack_share_scopes__","default","get","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","m","c","d","definition","key","o","Object","defineProperty","enumerable","obj","prop","prototype","hasOwnProperty","call","S","initPromises","initTokens","I","name","initScope","initToken","indexOf","push","promises","length","Promise","all","then","__webpack_exports__"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,WAAY,GAAIH,GACG,iBAAZC,QACdA,QAAkB,SAAID,IAEtBD,EAAe,SAAIC,IARrB,CASmB,oBAATK,KAAuBA,KAAOC,MAAM,WAC9C,M,+DCAA,MAsCA,GACEC,KAvCW,CAACC,EAAgBC,EAAoBC,KAChD,MAAM,SAAEC,GAAaD,GAAW,GAEhC,IAAKC,EACH,MAAMC,MAAM,qBAGd,MAAMC,EAAUC,SAASC,cAAcJ,GACvC,IAAKE,EACH,MAAMD,MAAO,sBAAqBD,KAGpC,MAAMK,EAAWR,EAAOS,MAAM,KACxBC,EAAUF,EAAS,GACnBG,EAAMH,EAAS,GACrB,IAAKE,IAAYC,EACf,MAAMP,MAAM,kBAGd,MAAMQ,EAAeN,SAASO,cAAc,UAC5CD,EAAaE,aAAa,MAAOH,GACjCL,SAASS,KAAKC,YAAYJ,GAE1BA,EAAaK,iBAAiB,QAAQC,gBAC9BC,IAAyB,WAE/B,MAAMC,EAAYC,OAAOX,GACzB,IAAKU,EACH,MAAMhB,MAAO,qBAAoBM,WAE7BU,EAAUrB,KAAKuB,IAAyBC,gBAEtBH,EAAUI,IAAIvB,MAE/BwB,MAAMpB,EAASH,UC3CtBwB,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAapC,QAGrB,IAAIC,EAASgC,EAAyBE,GAAY,CAGjDnC,QAAS,IAOV,OAHAsC,EAAoBH,GAAUlC,EAAQA,EAAOD,QAASkC,GAG/CjC,EAAOD,QAIfkC,EAAoBK,EAAID,EAGxBJ,EAAoBM,EAAIP,EC3BxBC,EAAoBO,EAAI,CAACzC,EAAS0C,KACjC,IAAI,IAAIC,KAAOD,EACXR,EAAoBU,EAAEF,EAAYC,KAAST,EAAoBU,EAAE5C,EAAS2C,IAC5EE,OAAOC,eAAe9C,EAAS2C,EAAK,CAAEI,YAAY,EAAMhB,IAAKW,EAAWC,MCJ3ET,EAAoBU,EAAI,CAACI,EAAKC,IAAUJ,OAAOK,UAAUC,eAAeC,KAAKJ,EAAKC,G,MCAlFf,EAAoBmB,EAAI,GACxB,IAAIC,EAAe,GACfC,EAAa,GACjBrB,EAAoBsB,EAAI,CAACC,EAAMC,KAC1BA,IAAWA,EAAY,IAE3B,IAAIC,EAAYJ,EAAWE,GAE3B,GADIE,IAAWA,EAAYJ,EAAWE,GAAQ,MAC3CC,EAAUE,QAAQD,IAAc,GAAnC,CAGA,GAFAD,EAAUG,KAAKF,GAEZL,EAAaG,GAAO,OAAOH,EAAaG,GAEvCvB,EAAoBU,EAAEV,EAAoBmB,EAAGI,KAAOvB,EAAoBmB,EAAEI,GAAQ,IAE1EvB,EAAoBmB,EAAEI,GAAlC,IAmBIK,EAAW,GAGf,OACOR,EAAaG,GADhBK,EAASC,OACeC,QAAQC,IAAIH,GAAUI,MAAK,IAAOZ,EAAaG,GAAQ,IADlC,K,GClClD,IAAIU,EAAsBjC,EAAoB,K","file":"mfLoader.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"mfLoader\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mfLoader\"] = factory();\n\telse\n\t\troot[\"mfLoader\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn ","interface Module {\n  mount: (module: any, options: any) => void;\n}\ninterface Container {\n  init: (module: any) => void;\n  get: (modelName: string) => () => Module;\n}\ndeclare function __webpack_init_sharing__(scope: string): void;\ndeclare let __webpack_share_scopes__: any;\n\nconst init = (remote: string, moduleName: string, options) => {\n  const { selector } = options || {};\n\n  if (!selector) {\n    throw Error('Selector required');\n  }\n\n  const element = document.querySelector(selector);\n  if (!element) {\n    throw Error(`Element not found: ${selector}`);\n  }\n\n  const appParts = remote.split('@');\n  const appName = appParts[0];\n  const url = appParts[1];\n  if (!appName || !url) {\n    throw Error('Invalid remote');\n  }\n\n  const remoteScript = document.createElement('script');\n  remoteScript.setAttribute('src', url);\n  document.head.appendChild(remoteScript);\n\n  remoteScript.addEventListener('load', async () => {\n    await __webpack_init_sharing__('default');\n\n    const container = window[appName] as Container;\n    if (!container) {\n      throw Error(`Remote not found: ${appName}`);\n    }\n    await container.init(__webpack_share_scopes__.default);\n\n    const factoryFn = await container.get(moduleName);\n    const module = factoryFn();\n    module.mount(element, options);\n  });\n};\n\nexport default {\n  init,\n};\n\n// (window as any).loader = {\n//   init,\n// };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// expose the module cache\n__webpack_require__.c = __webpack_module_cache__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.S = {};\nvar initPromises = {};\nvar initTokens = {};\n__webpack_require__.I = (name, initScope) => {\n\tif(!initScope) initScope = [];\n\t// handling circular init calls\n\tvar initToken = initTokens[name];\n\tif(!initToken) initToken = initTokens[name] = {};\n\tif(initScope.indexOf(initToken) >= 0) return;\n\tinitScope.push(initToken);\n\t// only runs once\n\tif(initPromises[name]) return initPromises[name];\n\t// creates a new share scope if needed\n\tif(!__webpack_require__.o(__webpack_require__.S, name)) __webpack_require__.S[name] = {};\n\t// runs all init snippets from all modules reachable\n\tvar scope = __webpack_require__.S[name];\n\tvar warn = (msg) => (typeof console !== \"undefined\" && console.warn && console.warn(msg));\n\tvar uniqueName = \"mfLoader\";\n\tvar register = (name, version, factory, eager) => {\n\t\tvar versions = scope[name] = scope[name] || {};\n\t\tvar activeVersion = versions[version];\n\t\tif(!activeVersion || (!activeVersion.loaded && (!eager != !activeVersion.eager ? eager : uniqueName > activeVersion.from))) versions[version] = { get: factory, from: uniqueName, eager: !!eager };\n\t};\n\tvar initExternal = (id) => {\n\t\tvar handleError = (err) => (warn(\"Initialization of sharing external failed: \" + err));\n\t\ttry {\n\t\t\tvar module = __webpack_require__(id);\n\t\t\tif(!module) return;\n\t\t\tvar initFn = (module) => (module && module.init && module.init(__webpack_require__.S[name], initScope))\n\t\t\tif(module.then) return promises.push(module.then(initFn, handleError));\n\t\t\tvar initResult = initFn(module);\n\t\t\tif(initResult && initResult.then) return promises.push(initResult.catch(handleError));\n\t\t} catch(err) { handleError(err); }\n\t}\n\tvar promises = [];\n\tswitch(name) {\n\t}\n\tif(!promises.length) return initPromises[name] = 1;\n\treturn initPromises[name] = Promise.all(promises).then(() => (initPromises[name] = 1));\n};","// module cache are used so entry inlining is disabled\n// startup\n// Load entry module and return exports\nvar __webpack_exports__ = __webpack_require__(843);\n"],"sourceRoot":""}